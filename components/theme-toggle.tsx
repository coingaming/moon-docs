"use client";

import { useTheme } from "next-themes";
import { useEffect, useState } from "react";

export function ModeToggle() {
  const { theme, setTheme } = useTheme();
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) {
    return null;
  }

  return (
    <button
      className="moon-icon-button moon-icon-button-ghost moon-icon-button-neutral"
      onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
    >
      {theme === "dark" ? (
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="sun">
            <g id="Icon">
              <path
                d="M10.625 1.66675C10.625 1.32157 10.3451 1.04175 9.99996 1.04175C9.65478 1.04175 9.37496 1.32157 9.37496 1.66675V2.91675C9.37496 3.26193 9.65478 3.54175 9.99996 3.54175C10.3451 3.54175 10.625 3.26193 10.625 2.91675V1.66675Z"
                fill="currentColor"
              />
              <path
                d="M4.54907 3.6653C4.30499 3.42123 3.90926 3.42123 3.66518 3.6653C3.4211 3.90938 3.4211 4.30511 3.66518 4.54919L4.54907 5.43307C4.79314 5.67715 5.18887 5.67715 5.43295 5.43307C5.67703 5.18899 5.67703 4.79327 5.43295 4.54919L4.54907 3.6653Z"
                fill="currentColor"
              />
              <path
                d="M16.3346 4.54928C16.5787 4.3052 16.5787 3.90948 16.3346 3.6654C16.0906 3.42132 15.6948 3.42132 15.4508 3.6654L14.5669 4.54928C14.3228 4.79336 14.3228 5.18909 14.5669 5.43317C14.811 5.67724 15.2067 5.67724 15.4508 5.43317L16.3346 4.54928Z"
                fill="currentColor"
              />
              <path
                d="M1.66663 9.37508C1.32145 9.37508 1.04163 9.6549 1.04163 10.0001C1.04163 10.3453 1.32145 10.6251 1.66663 10.6251H2.91663C3.2618 10.6251 3.54163 10.3453 3.54163 10.0001C3.54163 9.6549 3.2618 9.37508 2.91663 9.37508H1.66663Z"
                fill="currentColor"
              />
              <path
                d="M17.0833 9.37508C16.7381 9.37508 16.4583 9.6549 16.4583 10.0001C16.4583 10.3453 16.7381 10.6251 17.0833 10.6251H18.3333C18.6785 10.6251 18.9583 10.3453 18.9583 10.0001C18.9583 9.6549 18.6785 9.37508 18.3333 9.37508H17.0833Z"
                fill="currentColor"
              />
              <path
                d="M15.4504 14.567C15.2063 14.3229 14.8105 14.3229 14.5665 14.567C14.3224 14.8111 14.3224 15.2068 14.5665 15.4509L15.4504 16.3348C15.6944 16.5788 16.0902 16.5788 16.3342 16.3348C16.5783 16.0907 16.5783 15.695 16.3342 15.4509L15.4504 14.567Z"
                fill="currentColor"
              />
              <path
                d="M5.43336 15.451C5.67743 15.2069 5.67743 14.8112 5.43336 14.5671C5.18928 14.323 4.79355 14.323 4.54947 14.5671L3.66559 15.451C3.42151 15.6951 3.42151 16.0908 3.66559 16.3349C3.90967 16.5789 4.30539 16.5789 4.54947 16.3349L5.43336 15.451Z"
                fill="currentColor"
              />
              <path
                d="M10.625 17.0834C10.625 16.7382 10.3451 16.4584 9.99996 16.4584C9.65478 16.4584 9.37496 16.7382 9.37496 17.0834V18.3334C9.37496 18.6786 9.65478 18.9584 9.99996 18.9584C10.3451 18.9584 10.625 18.6786 10.625 18.3334V17.0834Z"
                fill="currentColor"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.99996 5.20841C7.35359 5.20841 5.20829 7.35372 5.20829 10.0001C5.20829 12.6464 7.35359 14.7917 9.99996 14.7917C12.6463 14.7917 14.7916 12.6464 14.7916 10.0001C14.7916 7.35372 12.6463 5.20841 9.99996 5.20841ZM6.45829 10.0001C6.45829 8.04407 8.04395 6.45841 9.99996 6.45841C11.956 6.45841 13.5416 8.04407 13.5416 10.0001C13.5416 11.9561 11.956 13.5417 9.99996 13.5417C8.04395 13.5417 6.45829 11.9561 6.45829 10.0001Z"
                fill="currentColor"
              />
            </g>
          </g>
        </svg>
      ) : (
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="moon">
            <path
              id="Icon"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8.76362 1.70241C8.91318 1.89702 8.935 2.16115 8.8194 2.37766C8.33276 3.28903 8.05664 4.33 8.05664 5.43732C8.05664 9.0305 10.9695 11.9433 14.5627 11.9433C15.67 11.9433 16.711 11.6672 17.6223 11.1806C17.8388 11.065 18.103 11.0868 18.2976 11.2364C18.4922 11.3859 18.5812 11.6356 18.5252 11.8745C17.6297 15.6957 14.2008 18.5416 10.1058 18.5416C5.32995 18.5416 1.45837 14.67 1.45837 9.89421C1.45837 5.79916 4.30425 2.37032 8.12546 1.47477C8.36442 1.41876 8.61405 1.50781 8.76362 1.70241ZM7.16369 3.10479C4.54191 4.24245 2.70837 6.85478 2.70837 9.89421C2.70837 13.9797 6.0203 17.2916 10.1058 17.2916C13.1452 17.2916 15.7575 15.4581 16.8952 12.8363C16.1586 13.0683 15.3749 13.1933 14.5627 13.1933C10.2791 13.1933 6.80664 9.72085 6.80664 5.43732C6.80664 4.6251 6.93168 3.84138 7.16369 3.10479Z"
              fill="currentColor"
            />
          </g>
        </svg>
      )}
      <span className="sr-only">Toggle theme</span>
    </button>
  );
}
